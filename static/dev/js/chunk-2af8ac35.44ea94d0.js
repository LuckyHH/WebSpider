(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2af8ac35"],{"02f4":function(e,t,r){var n=r("4588"),o=r("be13");e.exports=function(e){return function(t,r){var l,a,i=String(o(t)),u=n(r),c=i.length;return u<0||u>=c?e?"":void 0:(l=i.charCodeAt(u),l<55296||l>56319||u+1===c||(a=i.charCodeAt(u+1))<56320||a>57343?e?i.charAt(u):l:e?i.slice(u,u+2):a-56320+(l-55296<<10)+65536)}}},"0390":function(e,t,r){"use strict";var n=r("02f4")(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"0bfb":function(e,t,r){"use strict";var n=r("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"214f":function(e,t,r){"use strict";r("b0c5");var n=r("2aba"),o=r("32e9"),l=r("79e5"),a=r("be13"),i=r("2b4c"),u=r("520a"),c=i("species"),s=!l(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var p=i(e),d=!l(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),m=d?!l(function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[c]=function(){return r}),r[p](""),!t}):void 0;if(!d||!m||"replace"===e&&!s||"split"===e&&!f){var v=/./[p],b=r(a,p,""[e],function(e,t,r,n,o){return t.exec===u?d&&!o?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),h=b[0],g=b[1];n(String.prototype,e,h),o(RegExp.prototype,p,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},"268f":function(e,t,r){e.exports=r("fde4")},"28a5":function(e,t,r){"use strict";var n=r("aae3"),o=r("cb7c"),l=r("ebd6"),a=r("0390"),i=r("9def"),u=r("5f1b"),c=r("520a"),s=Math.min,f=[].push,p="split",d="length",m="lastIndex",v=!!function(){try{return new RegExp("x","y")}catch(e){}}();r("214f")("split",2,function(e,t,r,b){var h;return h="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[d]||2!="ab"[p](/(?:ab)*/)[d]||4!="."[p](/(.?)(.?)/)[d]||"."[p](/()()/)[d]>1||""[p](/.?/)[d]?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(o,e,t);var l,a,i,u=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,v=void 0===t?4294967295:t>>>0,b=new RegExp(e.source,s+"g");while(l=c.call(b,o)){if(a=b[m],a>p&&(u.push(o.slice(p,l.index)),l[d]>1&&l.index<o[d]&&f.apply(u,l.slice(1)),i=l[0][d],p=a,u[d]>=v))break;b[m]===l.index&&b[m]++}return p===o[d]?!i&&b.test("")||u.push(""):u.push(o.slice(p)),u[d]>v?u.slice(0,v):u}:"0"[p](void 0,0)[d]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var o=e(this),l=void 0==r?void 0:r[t];return void 0!==l?l.call(r,o,n):h.call(String(o),r,n)},function(e,t){var n=b(h,e,this,t,h!==r);if(n.done)return n.value;var c=o(e),f=String(this),p=l(c,RegExp),d=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),g=new p(v?c:"^(?:"+c.source+")",m),x=void 0===t?4294967295:t>>>0;if(0===x)return[];if(0===f.length)return null===u(g,f)?[f]:[];var F=0,w=0,y=[];while(w<f.length){g.lastIndex=v?w:0;var k,_=u(g,v?f:f.slice(w));if(null===_||(k=s(i(g.lastIndex+(v?0:w)),f.length))===F)w=a(f,w,d);else{if(y.push(f.slice(F,w)),y.length===x)return y;for(var E=1;E<=_.length-1;E++)if(y.push(_[E]),y.length===x)return y;w=F=k}}return y.push(f.slice(F)),y}]})},"32a6":function(e,t,r){var n=r("241e"),o=r("c3a1");r("ce7e")("keys",function(){return function(e){return o(n(e))}})},"454f":function(e,t,r){r("46a7");var n=r("584a").Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},"46a7":function(e,t,r){var n=r("63b6");n(n.S+n.F*!r("8e60"),"Object",{defineProperty:r("d9f6").f})},"520a":function(e,t,r){"use strict";var n=r("0bfb"),o=RegExp.prototype.exec,l=String.prototype.replace,a=o,i="lastIndex",u=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e[i]||0!==t[i]}(),c=void 0!==/()??/.exec("")[1],s=u||c;s&&(a=function(e){var t,r,a,s,f=this;return c&&(r=new RegExp("^"+f.source+"$(?!\\s)",n.call(f))),u&&(t=f[i]),a=o.call(f,e),u&&a&&(f[i]=f.global?a.index+a[0].length:t),c&&a&&a.length>1&&l.call(a[0],r,function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(a[s]=void 0)}),a}),e.exports=a},"5f1b":function(e,t,r){"use strict";var n=r("23c6"),o=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var l=r.call(e,t);if("object"!==typeof l)throw new TypeError("RegExp exec method returned something other than an Object or null");return l}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"78d0":function(e,t,r){"use strict";var n=r("b1ab"),o=r.n(n);o.a},"85f2":function(e,t,r){e.exports=r("454f")},"8aae":function(e,t,r){r("32a6"),e.exports=r("584a").Object.keys},a4bb:function(e,t,r){e.exports=r("8aae")},aae3:function(e,t,r){var n=r("d3f4"),o=r("2d95"),l=r("2b4c")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[l])?!!t:"RegExp"==o(e))}},b0c5:function(e,t,r){"use strict";var n=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},b1ab:function(e,t,r){},bf90:function(e,t,r){var n=r("36c3"),o=r("bf0b").f;r("ce7e")("getOwnPropertyDescriptor",function(){return function(e,t){return o(n(e),t)}})},ce7e:function(e,t,r){var n=r("63b6"),o=r("584a"),l=r("294c");e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*l(function(){r(1)}),"Object",a)}},e265:function(e,t,r){e.exports=r("ed33")},ed33:function(e,t,r){r("014b"),e.exports=r("584a").Object.getOwnPropertySymbols},ef8d:function(e,t,r){"use strict";r.d(t,"d",function(){return o}),r.d(t,"e",function(){return l}),r.d(t,"b",function(){return a}),r.d(t,"g",function(){return i}),r.d(t,"a",function(){return u}),r.d(t,"c",function(){return c}),r.d(t,"f",function(){return s});var n=r("1c03");function o(e){var t="/crawl/share";return n["a"].get(t,e)}function l(e){console.log(e);var t="/crawl/tag";return n["a"].get(t,e)}function a(e){var t="/crawl/config";return n["a"].get(t,e)}function i(e){var t="/crawl/config";return n["a"].post(t,e)}function u(e){var t="/crawl/config";return n["a"].delete(t,e)}function c(e){var t="/crawl/preview";return n["a"].post(t,e)}function s(e){var t="/crawl/save";return n["a"].post(t,e)}},f7c4:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"webspider"},[r("fieldset",[r("legend",[e._v("配置面板")]),r("div",{staticClass:"config"},[r("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"150px","label-position":"right"}},[r("el-form-item",{attrs:{label:"目标网站",prop:"url"}},[r("el-input",{model:{value:e.ruleForm.url,callback:function(t){e.$set(e.ruleForm,"url",t)},expression:"ruleForm.url"}})],1),r("el-form-item",{attrs:{label:"网页编码",prop:"charset"}},[r("el-select",{attrs:{placeholder:"请选择网页编码"},model:{value:e.ruleForm.charset,callback:function(t){e.$set(e.ruleForm,"charset",t)},expression:"ruleForm.charset"}},[r("el-option",{attrs:{label:"utf-8",value:"utf-8"}}),r("el-option",{attrs:{label:"gbk",value:"gbk"}})],1)],1),r("el-form-item",{attrs:{label:"抓取模式",prop:"mode"}},[r("el-select",{attrs:{placeholder:"请选择抓取模式"},model:{value:e.ruleForm.mode,callback:function(t){e.$set(e.ruleForm,"mode",t)},expression:"ruleForm.mode"}},[r("el-option",{attrs:{label:"普通模式",value:"plain"}}),r("el-option",{attrs:{label:"分页模式",value:"pagination"}})],1)],1),"pagination"===e.ruleForm.mode?r("el-form-item",{staticClass:"input-nmber",attrs:{label:"分页起始页",prop:"start"}},[r("el-input-number",{attrs:{min:0,max:e.ruleForm.end-1,label:"起始页"},model:{value:e.ruleForm.start,callback:function(t){e.$set(e.ruleForm,"start",t)},expression:"ruleForm.start"}})],1):e._e(),"pagination"===e.ruleForm.mode?r("el-form-item",{staticClass:"input-nmber",attrs:{label:"分页终止页",prop:"end"}},[r("el-input-number",{attrs:{min:e.ruleForm.start+1,max:100,label:"终止页"},model:{value:e.ruleForm.end,callback:function(t){e.$set(e.ruleForm,"end",t)},expression:"ruleForm.end"}})],1):e._e(),r("el-form-item",{attrs:{label:"抓取深度",prop:"depth"}},[r("el-select",{attrs:{placeholder:"请选择抓取深度"},model:{value:e.ruleForm.depth,callback:function(t){e.$set(e.ruleForm,"depth",t)},expression:"ruleForm.depth"}},[r("el-option",{attrs:{label:"1",value:1}}),r("el-option",{attrs:{label:"2",value:2}}),r("el-option",{attrs:{label:"3",value:3}})],1)],1),e._l(e.ruleForm.depth,function(t){return r("el-form-item",{key:t,attrs:{label:t+"级标签选择器",prop:"tags"}},[r("el-input",{model:{value:e.ruleForm.tags[t-1],callback:function(r){e.$set(e.ruleForm.tags,t-1,r)},expression:"ruleForm.tags[i-1]"}})],1)}),r("el-form-item",{attrs:{label:"代理模式",prop:"proxyMode"}},[r("el-select",{attrs:{placeholder:"请选择代理模式"},model:{value:e.ruleForm.proxyMode,callback:function(t){e.$set(e.ruleForm,"proxyMode",t)},expression:"ruleForm.proxyMode"}},[r("el-option",{attrs:{label:"内置代理",value:"internal"}}),r("el-option",{attrs:{label:"无代理",value:"none"}}),r("el-option",{attrs:{label:"自定义代理",value:"own"}})],1)],1),"own"===e.ruleForm.proxyMode?r("el-form-item",{attrs:{label:"代理地址",prop:"proxies"}},[r("el-input",{attrs:{placeholder:"请输入代理地址,多个代理地址请用英文逗号隔开。例如: http://24.48.0.1:888,http://24.48.0.1:887"},model:{value:e.ruleForm.proxies,callback:function(t){e.$set(e.ruleForm,"proxies",t)},expression:"ruleForm.proxies"}})],1):e._e(),r("el-form-item",{attrs:{label:"输出格式",prop:"form"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.form,callback:function(t){e.$set(e.ruleForm,"form",t)},expression:"ruleForm.form"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("预览结果")]),r("el-button",{on:{click:function(t){e.saveForm("ruleForm")}}},[e._v("生成API")])],1)],2)],1),r("div",{staticClass:"nav-btn"},[e._m(0),r("div",{staticClass:"nav-btn-right"},[r("span",{on:{click:e.onInstanceFill}},[e._v("实例填充")]),r("span",{on:{click:e.onReset}},[e._v("重置")])])])]),r("fieldset",[r("legend",[e._v("预览面板")]),r("div",{staticClass:"preview"},[e._v("\n      "+e._s(e.result)+"\n    ")])])])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav-btn-left"},[r("span",[r("a",{attrs:{href:"https://www.docmobile.cn/artical_detiail/luckyhh/1528369921460",target:"_blank"}},[e._v("参考配置")])]),r("span",[r("a",{attrs:{href:"https://github.com/LuckyHH/WebSpider",target:"_blank",rel:"noopener noreferrer"}},[e._v("项目地址")])]),r("span",[r("a",{attrs:{href:"https://github.com/LuckyHH/WebSpider/issues",target:"_blank",rel:"noopener noreferrer"}},[e._v("报错")])])])}],l=r("268f"),a=r.n(l),i=r("e265"),u=r.n(i),c=r("a4bb"),s=r.n(c),f=r("85f2"),p=r.n(f);function d(e,t,r){return t in e?p()(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=s()(r);"function"===typeof u.a&&(n=n.concat(u()(r).filter(function(e){return a()(r,e).enumerable}))),n.forEach(function(t){d(e,t,r[t])})}return e}r("28a5"),r("cadf"),r("551c"),r("097d");var v=r("ef8d"),b={name:"Crawl",data:function(){var e=this;return{ruleForm:{url:"",charset:"utf-8",mode:"plain",proxyMode:"internal",proxies:"",form:"",depth:1,tags:[],start:0,end:5},rules:{url:[{required:!0,message:"请输入抓取地址",trigger:"blur"}],proxies:[{trigger:"blur",validator:function(t,r,n){if(""!==r||"自定义代理"!==e.ruleForm.proxyMode){if(r){var o=r.split(",");o.every(function(e){return/^http:\/\/((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?):\d{2,5}/g.test(e)})?n():n(new Error("请输入正确的代理地址(请求头+ip+端口号)(http://139.194.45.106:121)"))}}else n(new Error("请输入代理地址"))}}],form:[{required:!0,trigger:"blur",validator:function(e,t,r){if(""===t)r(new Error('请输入"输出格式"'));else try{JSON.parse(t),r()}catch(n){r(new Error("请检查是否是JSON格式数据"))}}}],tags:[{required:!0,trigger:"blur",validator:function(t,r,n){r.length?e.ruleForm.depth===r.length?n():n(new Error("选择的抓取深度与输入的标签选择器长度不匹配")):n(new Error('请输入"选择器"'))}}]},result:"",state:!0,num:1}},methods:{submitForm:function(e){var t=this;if(this.state)this.state=!1,this.num=1,this.$refs[e].validate(function(e){if(!e)return!1;t.result="数据正在抓取中，请等待...",Object(v["c"])(m({},t.ruleForm,{proxies:t.ruleForm.proxies.split(",").filter(function(e){return Boolean(e)})})).then(function(e){t.result=e.data,t.state=!0}).catch(function(e){t.result="出错啦🙀 , 错误详情:".concat(e,'...\n                             请按照下列指示进行操作:\n                             (1)请点击"预览结果"再试几次;\n                             (2)请检查源网站能不能访问;\n                             (3)请检查一遍配置是否正确;\n                             (4)如果配置了"内置代理",请更换为"无代理";\n                             '),t.state=!0})});else{for(var r="",n=0;n<this.num;n++)r+="耐心";5!==this.num?this.result="数据正在抓取中，请".concat(r,"等待..."):(this.result="服了你了,状态锁关了,这回再点就重新请求",this.state=!0),this.num=this.num+1}},saveForm:function(e){var t=this;this.$store.state.user?this.$refs[e].validate(function(e){if(!e)return!1;t.result="配置保存中...",Object(v["f"])(m({},t.ruleForm,{proxies:t.ruleForm.proxies.split(",").filter(function(e){return Boolean(e)})})).then(function(e){e.data.state?t.result="配置保存成功，详细信息请在'管理面板'中查看":t.result="配置保存失败，失败详情:".concat(e.data.msg)})}):this.$message.info("请先在'管理面板'页面进行注册登录")},onInstanceFill:function(){this.ruleForm={charset:"utf-8",mode:"pagination",proxyMode:"internal",proxies:"",form:'{"title":"$element.attr(\'title\')"}',depth:1,tags:['$(".Article_Title a")'],start:1,end:5,url:"http://www.shzu.edu.cn/3/list*.htm"}},onReset:function(){this.ruleForm={url:"",charset:"utf-8",mode:"plain",proxyMode:"internal",proxies:"",form:"",depth:1,tags:[],start:0,end:5}}}},h=b,g=(r("78d0"),r("2877")),x=Object(g["a"])(h,n,o,!1,null,null,null);x.options.__file="WebSpider.vue";t["default"]=x.exports},fde4:function(e,t,r){r("bf90");var n=r("584a").Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}}}]);
//# sourceMappingURL=chunk-2af8ac35.44ea94d0.js.map